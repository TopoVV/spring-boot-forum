<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
  </head>
  <body>
    <form name="create-post-form" method="post" th:action="@{/posts}">
      <div>
        <label for="title"></label>
        <input id="title" name="title" type="text">
      </div>
      <div>
        <label for="text"></label>
        <input id="text" name="text" type="text">
      </div>
      <div>
        <input type="submit">
      </div>
    </form>
  </body>
  <script>
    let form = document.forms['create-post-form'];
    form.addEventListener('submit', e => {
        e.preventDefault();
        let formData = new FormData(form);
        let request = {};
        formData.forEach((value, key) => request[key] = value);
        fetch(form.action, {
            method: 'post',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(request)
        }).then(response => {
            console.log(response);
            return response.json()
        }).then(responseBody => {
            console.log(responseBody);
        });
    });
  </script>
</html>
